<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=diece-width,intal-scale=1,maxmum-scale=1,user-scalable=no">
<title>无标题文档</title>
<script src="../bs/js/jquery.min.js"></script>
<link rel="stylesheet" href="players.css">
</head>

<body>
	<div class="header">
		<span id="s1">&lsaquo;</span>
	</div>
	
	<div class="top">玩家配比</div>
	
	<div class="content1">
		<div class="content1-left">
			<img src="07.png" alt="">
			<span class="content1-span">杀手 <input type="text" readonly value="2" id="input2">人</span>
		</div>
		<div class="content1-right">
			<img src="09.png" alt="">
			<span class="content1-span">平民 <input type="text" readonly value="6" id="input3">人</span>
		</div>
	</div>
	
	<div class="content2"></div>
	
	<div class="content3">
		<span class="content3-span1">请输入玩家数量</span>
		<input onkeyup="this.value=this.value.replace(/\D/g,'')" onafterpaste="this.value=this.value.replace(/\D/g,'')" maxlength="2" value="8" id="input1">
		<span class="content-span2">玩家数量为4-18</span>
	</div>
	
	<div class="footer">
		<button id="btn1">去发牌</button>
	</div>
	
	
</body>
<script>
	btnobj=document.getElementById('btn1');
	input1obj=document.getElementById('input1');
	killerobj=document.getElementById('input2');
	peoobj=document.getElementById('input3');
	s1obj=document.getElementById('s1');
	
		//玩家配比
		function set(){
			
			// input1obj.onblur=function(){
				st=input1obj.value;
				// alert(st);
				
				//判断输入值的区间
				if ( st<4 || st>18 ){
					killerobj.value = '';
					peoobj.value = '';
				}else if ( st > 3 && st < 8 ){
					killerobj.value = 1;
					peoobj.value = ( st - 1 );
				}else if ( st > 7 && st < 12 ){
					killerobj.value = 2;
					peoobj.value = ( st - 2 );			
				}else {
					killerobj.value = 3;
					peoobj.value = st - 3;
				}
		// }
			
			
		}
				


	//判断和跳转控制
	btnobj.onclick=function(){
		st=input1obj.value;
		// alert(st);
		
		//对输入数量进行判断
		if(st<4 || st>18){
			alert('请正确输入数量');
			//这里弹出模态框
		}else{
			//跳转到view页面，查看身份
			set();
			window.location.href='view.html';
			


		var killer=[];
        var peo=[];

        var k = parseInt(killerobj.value);
        var p = parseInt(peoobj.value);
        for (var i = 0;i < k;i++){
              killer[i] = "杀手";
        }
//        alert(killer[0]+'-'+killer[1]+'-'+killer[2]);
        for (var j = 0;j < p;j++){
             peo[j] = "平民";
        }
//        alert(peo[0]+'-'+peo[1]+'-'+peo[2]+'-'+peo[3]+'-'+peo[4]+'-'+peo[5]+'-'+peo[6]+'-'+peo[7]+'-'+peo[8]+'-'+peo[9]+'-'+peo[10]+'-'+peo[11]+'-'+peo[12]+'-'+peo[13]);

        killer.length = k;
        people.length = p;
        y = k+p;
//       组合数组
        var arr = killer.concat(peo);
//        定义数组长度
        var y = arr.length;
//        数组乱序
        for (var i = 0; i < y; i++){
            ran = parseInt(Math.random() * y);//随机
            tmp = arr[i];
            arr[i] = arr[ran];
        }
		}
		
		set();
	}
	
	input1obj.onblur=function(){
		set();
	}
	
	
	//左上角，小箭头返回到start页面，开始界面
	s1obj.onclick=function(){
//		alert(134);
		window.location.href='start.html';
	}

		
</script>
</html>
